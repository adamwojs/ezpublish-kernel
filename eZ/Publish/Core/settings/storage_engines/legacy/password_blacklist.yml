services:
    eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Gateway\DoctrineDatabase:
        arguments:
            $connection: '@ezpublish.persistence.connection'

    eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Gateway\ExceptionConversion:
        arguments:
            $innerGateway: '@eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Gateway\DoctrineDatabase'

    eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Handler:
        arguments:
            $gateway: '@eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Gateway\ExceptionConversion'
        lazy: true

    ezpublish.spi.persistence.legacy.password_blacklist.handler:
        alias: 'eZ\Publish\Core\Persistence\Legacy\User\PasswordBlacklist\Handler'
